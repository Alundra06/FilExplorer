@*@model IEnumerable<FilExplorer.DataLayer.Models.FolderModel>*@

@{
    ViewBag.Title = "ListFolders";
}

<div>
    <h3>My documents:</h3>
</div>
<div class="container">
    @using (Html.BeginForm("UploadFileToServer", "S3", FormMethod.Post, new { enctype = "multipart/form-data", @class = "navbar-form navbar-left", id = "UploadForm" }))
    {
        @Html.Hidden("folderName")
        @Html.Hidden("folderID")
        <div class="row">
            <div class=" col-lg-5 col-md-5 col-sm-12 col-xs-12">
                <input type="file" id="uploadFile" name="uploadFile"/>
            </div>
            <div class=" col-lg-2 col-md-2 col-sm-12 col-xs-12"><hr/></div>
                <div class="col-lg-5  col-md-5 col-sm-12 col-xs-12">
                    <input type='button' class="btn-info" value='Upload file' onclick='submitUploadForm()' />
                </div>

            </div>
    }
    </div>

@*@using (Ajax.BeginForm("ListFiles", "Home", 
                                new AjaxOptions
                                {
                                    HttpMethod = "GET",
                                    InsertionMode = InsertionMode.Replace,
                                    UpdateTargetId = "displayFiles",
                                    LoadingElementId = "progress"
                                }, new {id="ListFilesForm", @class = "navbar-form navbar-left" }
                                ))
{
    @Html.Hidden("folderID")
}*@
<div id="displayme">
    @Html.Partial("_Folders_Structure")
</div>

<script language="javascript" type="text/javascript">
    function submitUploadForm() {
        if ($('#folderName').val() == '') {
            alert('Please select a folder first!');
            
        } else if ($('#uploadFile').val() == '') {
            alert('Please select a file to upload!');
            $('#uploadFile');

        } else {
            $("#UploadForm").submit();
        }

    }
</script>